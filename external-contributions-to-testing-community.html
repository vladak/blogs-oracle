<html><body>
<head>
            <title>External contributions to testing community | Oracle Czech techie's adventures Blog</title>
<meta name="publish_date" content="2009-05-04 13:34:44">
</head>
                                                                    <p>I have just integrated couple of changes which I believe are the first contributed externally<br/>to the <a href="http://opensolaris.org/os/community/testing/">Testing community</a> as an open-source<br/>contribution. The changes add couple of new tests to the <br/><a href="http://opensolaris.org/os/community/networking/tests/nc/">nc test suite</a> to cover<br/>the enhancement described in <a href="http://arc.opensolaris.org/caselog/PSARC/2008/680/">PSARC/2008/680</a><br/>(which is present in Nevada since build 106).<br/>This is the stuff which allows you to run nc(1) in client mode with complex portlist specifications. Previously<br/>it was possible only to use simple port ranges like <tt>22-80</tt>, with this change one can connect<br/>to e.g. <tt>22,24,50-80,66,1024-2048</tt>. Little example how it might be useful:</p><pre>&#36; nc -v -z grok.czech 22,25,80-88,8080<br/>Connection to grok.czech 22 port [tcp/ssh] succeeded!<br/>nc: connect to 129.157.71.49 port 25 [host grok.czech] (tcp) failed: Connection refused<br/>Connection to grok.czech 80 port [tcp/&#92;*] succeeded!<br/>nc: connect to 129.157.71.49 port 81 [host grok.czech] (tcp) failed: Connection refused<br/>nc: connect to 129.157.71.49 port 82 [host grok.czech] (tcp) failed: Connection refused<br/>nc: connect to 129.157.71.49 port 83 [host grok.czech] (tcp) failed: Connection refused<br/>nc: connect to 129.157.71.49 port 84 [host grok.czech] (tcp) failed: Connection refused<br/>nc: connect to 129.157.71.49 port 85 [host grok.czech] (tcp) failed: Connection refused<br/>nc: connect to 129.157.71.49 port 86 [host grok.czech] (tcp) failed: Connection refused<br/>nc: connect to 129.157.71.49 port 87 [host grok.czech] (tcp) failed: Connection refused<br/>nc: connect to 129.157.71.49 port 88 [host grok.czech] (tcp) failed: Connection refused<br/>Connection to grok.czech 8080 port [tcp/&#92;*] succeeded!</pre><p>Back to the testing part. The putback (yes, <tt>stcnv-gate</tt> is still using Teamware) log for this <br/>change looks like this (I have modified Erik's e-mail a bit):</p><pre>6786859 portranges_complex_spec is missing the listener<br/>6754842 extended port list specification needs to be tested<br/>Code contributed by Erik Trauschke &lt;erik.trauschke AT freenet.de&gt;</pre><p>I think this is really nice example of the ideal state - the contributor not only did the feature part but<br/>also the testing part. It shows a great degree of responsibility - not just throwing some code "over the fence"<br/>but fully participating in the process to ensure the quality even in the long term.</p><p>The tests are both positive and negative. Each purpose in <br/><a href="http://src.opensolaris.org/source/xref/test/stcnv/usr/src/suites/net/nc/tests/portranges/"><tt>portranges</tt></a><br/>directory is numbered and the following numbers match the test purpose numbers:<ul><li>5-12 ensure nc treats ports 0 and 65536 as invalid<br/><br/>  Previously, it was possible to listen on ports 0 and 65536, with Erik's changes this is no longer true<br/>  so we need to add regression tests for both cases (client/server) and both ports.</li><li>13-19 see if various malformed port list specifications are considered as invalid<br/><br/>  Each purpose needs not only positive tests which make sure the functionality actually works<br/>  but also negative tests which ensure it does not misbehave. In this case, invalid port list<br/>  specifications are thrown at nc(1) to see it reacts accordingly (with error, that is).</li><li>20-25 test the functionality of complex port lists<br/><br/>  This is the bunch of test which see if the functionality actually works.</li><li>26 tests reallocation<br/><br/>  Since the internal representation of the port list is now dynamically allocated and there is<br/>  a default pre-allocated value which is reallocated if needed we need to test the case of reallocation.</li></ul></p><p>To be able to do such integration there is now a <br/><a href="http://opensolaris.org/os/project/test-dev/devprocess/">Test development process</a>.<br/>It's similar to the process used in <a href="http://opensolaris.org/os/community/on/">ON community</a><br/>but it's more lightweight. The main difference is that the <tt>request-sponsor</tt> part is done informally <br/>via the <tt>testing-discuss</tt> mailing list and there is no list of bugs to pick up from. But don't<br/>be shy, whether you're adding new functionality or completely new program, the <br/><a href="http://opensolaris.org/os/community/testing/">Testing community</a> is here to help you.</p>
</body></html>
