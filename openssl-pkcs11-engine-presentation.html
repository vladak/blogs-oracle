<html><body>
<head>
            <title>OpenSSL PKCS#11 engine presentation | Oracle Czech techie's adventures Blog</title>
<meta name="publish_date" content="2009-08-17 09:56:02">
</head>
                                                                    <p>Some light intro first: <a href="http://www.openssl.org/">OpenSSL</a> has a concept of plugins/add-ons called 'engines' <br/>which can supply alternative<br/>implementation of crypto operations (digests, symmetric and asymmetric ciphers and random data generation).<br/>The main reason for the existence of the engines is the ability to offload crypto ops to hardware.<br/>(Open)Solaris ships with an engine called <i>PKCS#11 engine</i> which provides access to <br/><a href="http://www.sun.com/bigadmin/features/articles/crypt_framework.jsp">Solaris Cryptographic<br/>Framework</a> which in turn can provide access to HW crypto.</p><p>I spent some time fixing bugs in OpenSSL PKCS#11 engine in Solaris so I got quite intimate with its internals.<br/>Recently while discussing an upcoming feature with <a href="http://blogs.sun.com/janp/">Jan</a> he asked me why one<br/>particular detail in the engine is done one way and not the other (it's the fork() detection not done via atfork<br/>handlers; for the curious). It took me some thinking to find the answer (I focused on the other changes at that time)<br/>which made us realize that it would be good to summarize the design choices behind the engine and also to <br/>document the internals so that others can quickly see what's going on inside and also be able to do changes<br/>in the engine without reverse engineer the thoughts behind it. The outcome is a set of slides which I hope succinctly<br/>describe both the overall picture and the gritty details.</p><p>The presentation can be downloaded<br/><a href="http://blogs.oracle.com/vlad/resource/pkcs11-engine-opensolaris.pdf">here</a>.</p>
</body></html>
